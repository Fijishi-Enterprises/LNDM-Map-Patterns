<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="landscapemetrics">
<title>Differences FRAGSTATS|landscapemetrics|SDMTools • landscapemetrics</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Differences FRAGSTATS|landscapemetrics|SDMTools">
<meta property="og:description" content="landscapemetrics">
<meta property="og:image" content="https://r-spatialecology.github.io/landscapemetrics/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">landscapemetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/get_started.html">
    <span class="fa fa fa fa-magic"></span>
     
    Get Started
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Functions
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--more">
    <span class="fa fa-graduation-cap"></span>
     
    More
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--more">
    <a class="dropdown-item" href="../articles/general_background.html">
      <span class="fa fa-book"></span>
       
      General Background
    </a>
    <a class="dropdown-item" href="../articles/comparing_tools.html">
      <span class="fa fa-edit"></span>
       
      Differences FRAGSTATS|landscapemetrics
    </a>
    <a class="dropdown-item" href="../articles/new_metrics.html">
      <span class="fa fa-sticky-note"></span>
       
      New Metrics outside FRAGSTATS
    </a>
    <a class="dropdown-item" href="../articles/utility.html">
      <span class="fa fa-comment"></span>
       
      Utility functions
    </a>
    <a class="dropdown-item" href="../articles/guide_moving_window.html">
      <span class="fa fa-comment"></span>
       
      Moving window
    </a>
    <a class="dropdown-item" href="../articles/guide_sample_lsm.html">
      <span class="fa fa-comment"></span>
       
      Sample metrics
    </a>
    <a class="dropdown-item" href="../articles/landscape_distribution_statistics.html">
      <span class="fa fa-comment"></span>
       
      Landscape distribution statistics
    </a>
    <a class="dropdown-item" href="../articles/publication_record.html">
      <span class="fa fa-file-text-o"></span>
       
      Publication Record
    </a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-spatialecology/landscapemetrics/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mhesselbarth.rbind.io">
    <span class="fa fa-user"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Differences FRAGSTATS|landscapemetrics|SDMTools</h1>
            
            <h4 data-toc-skip class="date">2023-03-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-spatialecology/landscapemetrics/blob/HEAD/vignettes/articles/comparing_tools.Rmd" class="external-link"><code>vignettes/articles/comparing_tools.Rmd</code></a></small>
      <div class="d-none name"><code>comparing_tools.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="comparison-with-fragstats">Comparison with FRAGSTATS<a class="anchor" aria-label="anchor" href="#comparison-with-fragstats"></a>
</h2>
<p><code>landscapemetrics</code> re-implements landscape metrics as they
are mostly described in the FRAGSTATS software (McGarigal <em>et
al.</em> 2012). Therefore, we compared our results with the results of
FRAGSTATS. In the process, we recognized a few differences between the
results.</p>
<p>Some metrics in FRAGSTATS are interdependent across scales. Thus, if
there is a deviation at the patch level, it propagates through the
class- and landscape-level. We list the metrics with deviations at the
lowest level.</p>
<p>Unfortunatly, we do not have access to the source code of FRAGSTATS.
Therefore, we are not able to finally explain the present differences
between the results, nevertheless, we try to guess the most likely
reasons.</p>
<div class="section level3">
<h3 id="general-differences">General differences<a class="anchor" aria-label="anchor" href="#general-differences"></a>
</h3>
<p>Firstly, the patch ID is ordered in a different way, due to technical
reasons (how connected patches are specified). Therefore, one has to pay
attention comparing the results on patch level for FRAGSTATS and
<code>landscapemetrics</code>.</p>
<p>All double precision floating point numbers are rounded after the 4th
decimal place in FRAGSTATS. Contrastingly, we do not round the numbers.
Naturally, this can lead to small deviations between the results.</p>
<p>There are quite a few metrics on class- and landscape-level that
summarise patch level metrics (e.g. the mean, standard deviation
(<em>sd</em>) or coefficient of variation (<em>cv</em>) of all values
belonging to class <em>i</em>). While the results are identical for
single patches and the mean of all patches, there are some slight
differences between <code>lanscapemetrics</code> and FRAGSTATS for the
standard deviation and the coefficent of variation.
<code>landscapemetrics</code> uses base <code>R</code> functions for
that, so we should assume that the calculation of such indices is
correct.</p>
<p>In the following, we are comparing the <em>cv</em> for the patch
area. We are including the <em>cv</em> calculated from all patch areas
and the actual output of FRAGSTATS as well as the output of
<code>landscapemetrics</code>. Interestingly, the <em>cv</em> calculated
from all patches of FRAGSTATS is identical to the cv of
<code>landscapemetrics</code>, but the actual result of FRAGSTATS is
slightly different.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function to calculate coefficient of variation</span></span>
<span><span class="va">cv</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># CV calculated from patch values of FRAGSTATS </span></span>
<span><span class="va">fragstats_calculated</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">TYPE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>cv <span class="op">=</span> <span class="fu">cv</span><span class="op">(</span><span class="va">AREA</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"fragstats_calculated"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Output of FRAGSTATS</span></span>
<span><span class="va">fragstats_output</span> <span class="op">&lt;-</span> <span class="va">fragstats_class_landscape</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">TYPE</span>, <span class="va">AREA_CV</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"fragstats_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output of landscapemetrics</span></span>
<span><span class="va">landscapemetrics_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_c_area_cv.html">lsm_c_area_cv</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">class</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"landscapemetrics"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fragstats</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fragstats_output</span>, y <span class="op">=</span> <span class="va">fragstats_calculated</span>, </span>
<span>                              by <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">cv_full</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fragstats</span>, y <span class="op">=</span> <span class="va">landscapemetrics_output</span>,</span>
<span>                            by <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#1">
Show/Hide Results
</button>
<div id="id_1" class="collapse">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">cv_full</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">class</th>
<th align="right">fragstats_output</th>
<th align="right">fragstats_calculated</th>
<th align="right">landscapemetrics</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">228.5906</td>
<td align="right">242.4570</td>
<td align="right">242.4570</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">162.6136</td>
<td align="right">187.7700</td>
<td align="right">187.7700</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">159.0109</td>
<td align="right">165.0134</td>
<td align="right">165.0134</td>
</tr>
</tbody>
</table>
</div>
<p>As for the <em>cv</em>, the results for the <em>sd</em> are similiar.
The result calculated from all patch areas of FRAGSTATS is identical to
the result of <code>landscapemetrics</code>, but not the actual result
of FRAGSTATS.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># SD calculated from patch values of FRAGSTATS</span></span>
<span><span class="va">fragstats_calculated</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">TYPE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">AREA</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"fragstats_calculated"</span><span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="co"># Output of FRAGSTATS</span></span>
<span><span class="va">fragstats_output</span> <span class="op">&lt;-</span> <span class="va">fragstats_class_landscape</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">TYPE</span>, <span class="va">AREA_SD</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"fragstats_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output of landscapemetrics</span></span>
<span><span class="va">landscapemetrics_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_c_area_sd.html">lsm_c_area_sd</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">class</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"landscapemetrics"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fragstats</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fragstats_output</span>, y <span class="op">=</span> <span class="va">fragstats_calculated</span>,</span>
<span>                              by <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sd_full</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fragstats</span>, y <span class="op">=</span> <span class="va">landscapemetrics_output</span>,</span>
<span>                            by <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#2">
Show/Hide Results
</button>
<div id="id_2" class="collapse">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">cv_full</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">class</th>
<th align="right">fragstats_output</th>
<th align="right">fragstats_calculated</th>
<th align="right">landscapemetrics</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">228.5906</td>
<td align="right">242.4570</td>
<td align="right">242.4570</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">162.6136</td>
<td align="right">187.7700</td>
<td align="right">187.7700</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">159.0109</td>
<td align="right">165.0134</td>
<td align="right">165.0134</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="specific-differences">Specific differences<a class="anchor" aria-label="anchor" href="#specific-differences"></a>
</h3>
<div class="section level4">
<h4 id="gyrate-metric">GYRATE metric<a class="anchor" aria-label="anchor" href="#gyrate-metric"></a>
</h4>
<p>According to FRAGSTATS the radius of gyration for a patch consisting
of only a single cell should equal GYRATE = 0.</p>
<blockquote>
<p>[…] GYRATE = 0 when the patch consists of a single cell […]</p>
</blockquote>
<p>However, for patches containing a single cell FRAGSTATS returns a
value of <em>GYRATE = 0.5</em>. In the following table, patches with an
area of <em>area = 0.0001</em> consist of only one cell.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate patch area</span></span>
<span><span class="va">fragstats_area</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PID</span>, <span class="va">AREA</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"fragstats_area"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landscapemetrics_area</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_area.html">lsm_p_area</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"landscapemetrics_area"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate GYRATE</span></span>
<span><span class="va">fragstats_gyrate</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PID</span>, <span class="va">GYRATE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"fragstats_gyrate"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landscapemetrics_gyrate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_gyrate.html">lsm_p_gyrate</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"landscapemetrics_gyrate"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fragstats</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fragstats_area</span>, y <span class="op">=</span> <span class="va">fragstats_gyrate</span>, </span>
<span>                              by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">fragstats_area</span> <span class="op">==</span> <span class="fl">0.0001</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landscapemetrics</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">landscapemetrics_area</span>, </span>
<span>                                     y <span class="op">=</span> <span class="va">landscapemetrics_gyrate</span>, by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">landscapemetrics_area</span> <span class="op">==</span> <span class="fl">0.0001</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#3">
Show/Hide Results
</button>
<div id="id_3" class="collapse">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fragstats</span>, <span class="va">landscapemetrics</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="17%">
<col width="20%">
<col width="3%">
<col width="26%">
<col width="28%">
</colgroup>
<thead><tr class="header">
<th align="right">id</th>
<th align="right">fragstats_area</th>
<th align="right">fragstats_gyrate</th>
<th align="right">id</th>
<th align="right">landscapemetrics_area</th>
<th align="right">landscapemetrics_gyrate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">1</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">4</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">5</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">25</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">9</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">15</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">1e-04</td>
<td align="right">0.5</td>
<td align="right">17</td>
<td align="right">1e-04</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<p>Additionally, we recognized small differences for all other patches
as well. However, we could not find an explanation for this difference,
yet.</p>
<div class="section level5">
<h5 id="error-propagation-for-metrics-based-on-gyrate-metric">Error propagation (for metrics based on <em>GYRATE</em> metric)<a class="anchor" aria-label="anchor" href="#error-propagation-for-metrics-based-on-gyrate-metric"></a>
</h5>
<div class="section level6">
<h6 id="class-level">Class level<a class="anchor" aria-label="anchor" href="#class-level"></a>
</h6>
<ul>
<li>GYRATE_CV (<code>lsm_c_gyrate_cv</code>)</li>
<li>GYRATE_MN (<code>lsm_c_gyrate_mn</code>)</li>
<li>GYRATE_SD (<code>lsm_c_gyrate_sd</code>)</li>
</ul>
</div>
<div class="section level6">
<h6 id="landscape-level">Landscape level<a class="anchor" aria-label="anchor" href="#landscape-level"></a>
</h6>
<ul>
<li>GYRATE_CV (<code>lsm_l_gyrate_cv</code>)</li>
<li>GYRATE_MN (<code>lsm_l_gyrate_mn</code>)</li>
<li>GYRATE_SD (<code>lsm_l_gyrate_sd</code>)</li>
</ul>
</div>
</div>
</div>
<div class="section level4">
<h4 id="para-metric">PARA metric<a class="anchor" aria-label="anchor" href="#para-metric"></a>
</h4>
<p>The documentation of FRAGSTATS defines the perimeter-area ratio the
following:</p>
<blockquote>
<p>[…] PARA equals the ratio of the patch perimeter (m) to area (m2).
[…]</p>
</blockquote>
<p>Contrastingly, the output of FRAGSTATS gives the result as the ratio
of the patch perimeter in meters to area in hectares.</p>
<p>We implemented PARA as documented in the FRAGSTATS manual using
square meters. Nevertheless, the differences between the softwares are
only based on different units, as shown by converting the FRAGSTATS
output to meters per square meters.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output of FRAGSTATS</span></span>
<span><span class="va">fragstats</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PID</span>, <span class="va">AREA</span>, <span class="va">PERIM</span>, <span class="va">PARA</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"area"</span>, <span class="st">"perim"</span>, <span class="st">"para"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>para_calculated_ha <span class="op">=</span> <span class="va">perim</span> <span class="op">/</span> <span class="va">area</span>, </span>
<span>                  para_calculated_m <span class="op">=</span> <span class="va">perim</span> <span class="op">/</span> <span class="op">(</span><span class="va">area</span> <span class="op">*</span> <span class="fl">10000</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output of landscapemetrics</span></span>
<span><span class="va">area_landscapmetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_area.html">lsm_p_area</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"area"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">perim_landscapmetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_perim.html">lsm_p_perim</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"perim"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">para_landscapemetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_para.html">lsm_p_para</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"para"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landscapemetrics</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">area_landscapmetrics</span>, </span>
<span>                                     y <span class="op">=</span> <span class="va">perim_landscapmetrics</span>, </span>
<span>                                     by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span><span class="va">para_landscapemetrics</span>, by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>para_calculated_ha <span class="op">=</span> <span class="va">perim</span> <span class="op">/</span> <span class="va">area</span>, </span>
<span>                  para_calculated_m <span class="op">=</span> <span class="va">perim</span> <span class="op">/</span> <span class="op">(</span><span class="va">area</span> <span class="op">*</span> <span class="fl">10000</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#4">
Show/Hide Results
</button>
<div id="id_4" class="collapse">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fragstats</span>, <span class="va">landscapemetrics</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="5%">
<col width="4%">
<col width="7%">
<col width="15%">
<col width="14%">
<col width="2%">
<col width="5%">
<col width="4%">
<col width="7%">
<col width="15%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="right">id</th>
<th align="right">area</th>
<th align="right">perim</th>
<th align="right">para</th>
<th align="right">para_calculated_ha</th>
<th align="right">para_calculated_m</th>
<th align="right">id</th>
<th align="right">area</th>
<th align="right">perim</th>
<th align="right">para</th>
<th align="right">para_calculated_ha</th>
<th align="right">para_calculated_m</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">1</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">4</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">5</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="even">
<td align="right">25</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">9</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">15</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">17</td>
<td align="right">0.0001</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">0.0002</td>
<td align="right">6</td>
<td align="right">30000.000</td>
<td align="right">30000.000</td>
<td align="right">3.0000000</td>
<td align="right">11</td>
<td align="right">0.0002</td>
<td align="right">6</td>
<td align="right">3.0000000</td>
<td align="right">30000.000</td>
<td align="right">3.0000000</td>
</tr>
<tr class="even">
<td align="right">11</td>
<td align="right">0.0002</td>
<td align="right">6</td>
<td align="right">30000.000</td>
<td align="right">30000.000</td>
<td align="right">3.0000000</td>
<td align="right">12</td>
<td align="right">0.0002</td>
<td align="right">8</td>
<td align="right">4.0000000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">0.0002</td>
<td align="right">8</td>
<td align="right">40000.000</td>
<td align="right">40000.000</td>
<td align="right">4.0000000</td>
<td align="right">14</td>
<td align="right">0.0002</td>
<td align="right">6</td>
<td align="right">3.0000000</td>
<td align="right">30000.000</td>
<td align="right">3.0000000</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">26666.667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
<td align="right">7</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">26666.667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
<td align="right">18</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">26666.667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
<td align="right">19</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">26666.667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
<td align="right">23</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">26666.667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
<td align="right">26</td>
<td align="right">0.0003</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">26666.667</td>
<td align="right">2.6666667</td>
</tr>
<tr class="odd">
<td align="right">14</td>
<td align="right">0.0004</td>
<td align="right">8</td>
<td align="right">20000.000</td>
<td align="right">20000.000</td>
<td align="right">2.0000000</td>
<td align="right">21</td>
<td align="right">0.0004</td>
<td align="right">8</td>
<td align="right">2.0000000</td>
<td align="right">20000.000</td>
<td align="right">2.0000000</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">0.0005</td>
<td align="right">12</td>
<td align="right">24000.000</td>
<td align="right">24000.000</td>
<td align="right">2.4000000</td>
<td align="right">2</td>
<td align="right">0.0005</td>
<td align="right">12</td>
<td align="right">2.4000000</td>
<td align="right">24000.000</td>
<td align="right">2.4000000</td>
</tr>
<tr class="odd">
<td align="right">22</td>
<td align="right">0.0005</td>
<td align="right">10</td>
<td align="right">20000.000</td>
<td align="right">20000.000</td>
<td align="right">2.0000000</td>
<td align="right">8</td>
<td align="right">0.0005</td>
<td align="right">10</td>
<td align="right">2.0000000</td>
<td align="right">20000.000</td>
<td align="right">2.0000000</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="right">0.0007</td>
<td align="right">12</td>
<td align="right">17142.857</td>
<td align="right">17142.857</td>
<td align="right">1.7142857</td>
<td align="right">22</td>
<td align="right">0.0007</td>
<td align="right">12</td>
<td align="right">1.7142857</td>
<td align="right">17142.857</td>
<td align="right">1.7142857</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">0.0009</td>
<td align="right">16</td>
<td align="right">17777.778</td>
<td align="right">17777.778</td>
<td align="right">1.7777778</td>
<td align="right">25</td>
<td align="right">0.0009</td>
<td align="right">16</td>
<td align="right">1.7777778</td>
<td align="right">17777.778</td>
<td align="right">1.7777778</td>
</tr>
<tr class="even">
<td align="right">21</td>
<td align="right">0.0010</td>
<td align="right">16</td>
<td align="right">16000.000</td>
<td align="right">16000.000</td>
<td align="right">1.6000000</td>
<td align="right">27</td>
<td align="right">0.0010</td>
<td align="right">16</td>
<td align="right">1.6000000</td>
<td align="right">16000.000</td>
<td align="right">1.6000000</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="right">0.0014</td>
<td align="right">20</td>
<td align="right">14285.714</td>
<td align="right">14285.714</td>
<td align="right">1.4285714</td>
<td align="right">6</td>
<td align="right">0.0014</td>
<td align="right">20</td>
<td align="right">1.4285714</td>
<td align="right">14285.714</td>
<td align="right">1.4285714</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0.0024</td>
<td align="right">32</td>
<td align="right">13333.333</td>
<td align="right">13333.333</td>
<td align="right">1.3333333</td>
<td align="right">16</td>
<td align="right">0.0024</td>
<td align="right">32</td>
<td align="right">1.3333333</td>
<td align="right">13333.333</td>
<td align="right">1.3333333</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">0.0035</td>
<td align="right">38</td>
<td align="right">10857.143</td>
<td align="right">10857.143</td>
<td align="right">1.0857143</td>
<td align="right">10</td>
<td align="right">0.0035</td>
<td align="right">38</td>
<td align="right">1.0857143</td>
<td align="right">10857.143</td>
<td align="right">1.0857143</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">0.0057</td>
<td align="right">40</td>
<td align="right">7017.544</td>
<td align="right">7017.544</td>
<td align="right">0.7017544</td>
<td align="right">20</td>
<td align="right">0.0057</td>
<td align="right">40</td>
<td align="right">0.7017544</td>
<td align="right">7017.544</td>
<td align="right">0.7017544</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">0.0098</td>
<td align="right">82</td>
<td align="right">8367.347</td>
<td align="right">8367.347</td>
<td align="right">0.8367347</td>
<td align="right">13</td>
<td align="right">0.0098</td>
<td align="right">82</td>
<td align="right">0.8367347</td>
<td align="right">8367.347</td>
<td align="right">0.8367347</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0.0148</td>
<td align="right">130</td>
<td align="right">8783.784</td>
<td align="right">8783.784</td>
<td align="right">0.8783784</td>
<td align="right">3</td>
<td align="right">0.0148</td>
<td align="right">130</td>
<td align="right">0.8783784</td>
<td align="right">8783.784</td>
<td align="right">0.8783784</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0.0457</td>
<td align="right">348</td>
<td align="right">7614.880</td>
<td align="right">7614.880</td>
<td align="right">0.7614880</td>
<td align="right">24</td>
<td align="right">0.0457</td>
<td align="right">348</td>
<td align="right">0.7614880</td>
<td align="right">7614.880</td>
<td align="right">0.7614880</td>
</tr>
</tbody>
</table>
</div>
<div class="section level5">
<h5 id="error-propagation-for-metrics-based-on-para-metric">Error propagation (for metrics based on <strong>PARA</strong>
metric)<a class="anchor" aria-label="anchor" href="#error-propagation-for-metrics-based-on-para-metric"></a>
</h5>
<div class="section level6">
<h6 id="class-level-1">Class level<a class="anchor" aria-label="anchor" href="#class-level-1"></a>
</h6>
<ul>
<li>PARA_MN (<code>lsm_c_para_mn</code>)</li>
<li>PARA_SD (<code>lsm_c_para_sd</code>)</li>
</ul>
</div>
</div>
</div>
<div class="section level4">
<h4 id="circle-metric">CIRCLE metric<a class="anchor" aria-label="anchor" href="#circle-metric"></a>
</h4>
<p>According to FRAGSTATS, for patches with only one cell CIRCLE =
0.</p>
<blockquote>
<p>[…] CIRCLE = 0 for one cell patches. […]</p>
</blockquote>
<p>Nevertheless, because also patches with only one cell have a
dimension in the raster context, we decided to calculate the CIRCLE
metric for such patches.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output of FRAGSTATS</span></span>
<span><span class="va">fragstats</span> <span class="op">&lt;-</span> <span class="va">fragstats_patch_landscape</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PID</span>, <span class="va">AREA</span>, <span class="va">CIRCLE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id_fs"</span>, <span class="st">"area_fs"</span>, <span class="st">"circle_fs"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">area_fs</span> <span class="op">==</span> <span class="fl">0.0001</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output of landscapemetrics</span></span>
<span><span class="va">area_landscapmetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_area.html">lsm_p_area</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id_lsm"</span>, <span class="st">"area_lsm"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">circle_landscapmetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_p_circle.html">lsm_p_circle</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="st">"id_lsm"</span>, <span class="st">"circle_lsm"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landscapemetrics</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">area_landscapmetrics</span>, y <span class="op">=</span> <span class="va">circle_landscapmetrics</span>, </span>
<span>                                     by <span class="op">=</span> <span class="st">"id_lsm"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">area_lsm</span> <span class="op">==</span> <span class="fl">0.0001</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#5">
Show/Hide Results
</button>
<div id="id_5" class="collapse">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fragstats</span>, <span class="va">landscapemetrics</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">id_fs</th>
<th align="right">area_fs</th>
<th align="right">circle_fs</th>
<th align="right">id_lsm</th>
<th align="right">area_lsm</th>
<th align="right">circle_lsm</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
<tr class="even">
<td align="right">25</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">15</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">1e-04</td>
<td align="right">0</td>
<td align="right">17</td>
<td align="right">1e-04</td>
<td align="right">0.3633802</td>
</tr>
</tbody>
</table>
</div>
<p>It seems like FRAGSTATS uses the largest distance between the corner
points of the cells to calculate the diameter of the circumscribing
circle. However, this does not necessarily result in the correct
circumscribing circle. While this approach works well for more compact
patch shapes, there are some cases in which the approach fails. One
example are T-shaped patches. Contrastingly to FRAGSTATS, our algorithm
calculates the true circumscribing circle also for such patches.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create matrix</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NA</span>, nrow <span class="op">=</span> <span class="fl">13</span>, ncol <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create T-shaped patches</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">9</span>, <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># convert to raster</span></span>
<span><span class="va">ras</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></span><span class="op">(</span><span class="va">mat</span>, xmn <span class="op">=</span> <span class="fl">0</span>, xmx <span class="op">=</span> <span class="fl">13</span>, ymn <span class="op">=</span> <span class="fl">0</span>, ymx <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get circumscribing circle </span></span>
<span><span class="va">circle_lsm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_circumscribingcircle.html">get_circumscribingcircle</a></span><span class="op">(</span><span class="va">ras</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># construct circle using diameter / 2</span></span>
<span><span class="va">circle_lsm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/construct_buffer.html">construct_buffer</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">circle_lsm</span><span class="op">$</span><span class="va">center_x</span>, </span>
<span>                                                 <span class="va">circle_lsm</span><span class="op">$</span><span class="va">center_y</span><span class="op">)</span>,</span>
<span>                                               nrow <span class="op">=</span> <span class="fl">1</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>                               shape <span class="op">=</span> <span class="st">"circle"</span>, size <span class="op">=</span> <span class="va">circle_lsm</span><span class="op">$</span><span class="va">value</span> <span class="op">/</span> <span class="fl">2</span>,</span>
<span>                               return_sp <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># calculate max distance between corner points of cells</span></span>
<span><span class="va">circle_max_dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span>, <span class="fl">7</span>, <span class="fl">4</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># construct circle using diamter /2</span></span>
<span><span class="va">circle_max_dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/construct_buffer.html">construct_buffer</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6.5</span>, <span class="fl">7.5</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">1</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>                                    shape <span class="op">=</span> <span class="st">"circle"</span>, size <span class="op">=</span> <span class="va">circle_max_dist</span> <span class="op">/</span> <span class="fl">2</span>,</span>
<span>                                    return_sp <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ras</span>, col <span class="op">=</span> <span class="st">"#D5B528"</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html" class="external-link">polygon</a></span><span class="op">(</span><span class="va">circle_lsm</span>, border <span class="op">=</span> <span class="st">"#84A98E"</span>, lwd <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="co"># green circle</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html" class="external-link">polygon</a></span><span class="op">(</span><span class="va">circle_max_dist</span>, border <span class="op">=</span> <span class="st">"#922418"</span>, lwd <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="co"># red circle</span></span></code></pre></div>
<p><img src="comparing_tools_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="comparison-with-sdmtools">Comparison with SDMTools<a class="anchor" aria-label="anchor" href="#comparison-with-sdmtools"></a>
</h2>
<p><code>SDMTools</code> (VanDerWal et al. 2014) (still available, but
apparently not longer maintained) offers landscape metrics on patch and
class level. However, it does not return the same results as FRAGSTATS.
The main reason for this are different standard defaults
(e.g. <code>SDMTools</code> always considers the global landscape
boundary) and that <code>SDMTools</code> returns results in map units
and not in m^2/hectar, as FRAGSTATS/<code>landscapemetrics</code>. This
also explains differences between our package and
<code>SDMTools</code>.</p>
<p><a href="https://github.com/jsta" class="external-link">Joseph Stachelek</a> was so nice to
remind us of these issues and provided the comparison.</p>
<div class="section level3">
<h3 id="patch-metrics">Patch metrics<a class="anchor" aria-label="anchor" href="#patch-metrics"></a>
</h3>
<p>To get all availabel metrics on e.g. patch level with
<code>SDMTools</code>, you have to make a binary landscape for every
class in your landscape, perform connected components labelling on it
and then calculate the patch metrics.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.rforge.net/SDMTools/" class="external-link">SDMTools</a></span><span class="op">)</span> <span class="co"># remotes::install_version("SDMTools", version = "1.1-221.2")</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'SDMTools'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:raster':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     distance</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># binarize every class in the landscape and calculate patch metrics</span></span>
<span><span class="va">sdmtools_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp_land</span> <span class="op">&lt;-</span> <span class="va">landscape</span></span>
<span>  <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/values.html" class="external-link">values</a></span><span class="op">(</span><span class="va">tmp_land</span><span class="op">)</span><span class="op">[</span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/values.html" class="external-link">values</a></span><span class="op">(</span><span class="va">tmp_land</span><span class="op">)</span> <span class="op">!=</span> <span class="va">x</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span>  <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/values.html" class="external-link">values</a></span><span class="op">(</span><span class="va">tmp_land</span><span class="op">)</span><span class="op">[</span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/values.html" class="external-link">values</a></span><span class="op">(</span><span class="va">tmp_land</span><span class="op">)</span> <span class="op">==</span> <span class="va">x</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>  <span class="va">ccl</span> <span class="op">&lt;-</span> <span class="fu">SDMTools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SDMTools/man/ConnCompLabel.html" class="external-link">ConnCompLabel</a></span><span class="op">(</span><span class="va">tmp_land</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/SDMTools/man/PatchStat.html" class="external-link">PatchStat</a></span><span class="op">(</span><span class="va">ccl</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># combine to one data frame</span></span>
<span><span class="va">sdmtools_result</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">sdmtools_result</span>, .id <span class="op">=</span> <span class="st">"Class"</span><span class="op">)</span></span></code></pre></div>
<p><code>landscapemetrics</code> offers for such tasks the function
<code>get_patches</code> and for the metrics itself all of that is done
internally. To get all metrics on patch level with
<code>landscapemetrics</code> you could for example do:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patch_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_lsm.html">calculate_lsm</a></span><span class="op">(</span><span class="va">landscape</span>, what <span class="op">=</span> <span class="st">"patch"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Please use 'check_landscape()' to ensure the input data is valid.</span></span></code></pre>
<button class="btn btn-primary" data-toggle="collapse" data-target="#6">
Show/Hide Results
</button>
<div id="id_6" class="collapse">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">bind_rows</span><span class="op">(</span><span class="va">sdmtools_result</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="5%">
<col width="4%">
<col width="7%">
<col width="11%">
<col width="11%">
<col width="3%">
<col width="6%">
<col width="6%">
<col width="11%">
<col width="7%">
<col width="9%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">Class</th>
<th align="right">patchID</th>
<th align="right">n.cell</th>
<th align="right">n.core.cell</th>
<th align="right">n.edges.perimeter</th>
<th align="right">n.edges.internal</th>
<th align="right">area</th>
<th align="right">core.area</th>
<th align="right">perimeter</th>
<th align="right">perim.area.ratio</th>
<th align="right">shape.index</th>
<th align="right">frac.dim.index</th>
<th align="right">core.area.index</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="right">3</td>
<td align="right">148</td>
<td align="right">39</td>
<td align="right">130</td>
<td align="right">462</td>
<td align="right">148</td>
<td align="right">39</td>
<td align="right">130</td>
<td align="right">0.8783784</td>
<td align="right">2.600000</td>
<td align="right">1.393273</td>
<td align="right">0.2635135</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">4</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">2.4000000</td>
<td align="right">1.200000</td>
<td align="right">1.365212</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">6</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">20</td>
<td align="right">36</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">20</td>
<td align="right">1.4285714</td>
<td align="right">1.250000</td>
<td align="right">1.219707</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">1.000000</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">2.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.138647</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">3.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.169925</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">2</td>
<td align="right">35</td>
<td align="right">5</td>
<td align="right">38</td>
<td align="right">102</td>
<td align="right">35</td>
<td align="right">5</td>
<td align="right">38</td>
<td align="right">1.0857143</td>
<td align="right">1.583333</td>
<td align="right">1.266425</td>
<td align="right">0.1428571</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">3</td>
<td align="right">98</td>
<td align="right">31</td>
<td align="right">82</td>
<td align="right">310</td>
<td align="right">98</td>
<td align="right">31</td>
<td align="right">82</td>
<td align="right">0.8367347</td>
<td align="right">2.050000</td>
<td align="right">1.317534</td>
<td align="right">0.3163265</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4.0000000</td>
<td align="right">1.333333</td>
<td align="right">2.000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">3.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.169925</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4.0000000</td>
<td align="right">1.000000</td>
<td align="right">NaN</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">8</td>
<td align="right">24</td>
<td align="right">0</td>
<td align="right">32</td>
<td align="right">64</td>
<td align="right">24</td>
<td align="right">0</td>
<td align="right">32</td>
<td align="right">1.3333333</td>
<td align="right">1.600000</td>
<td align="right">1.308626</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">9</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">1.000000</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">10</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">1.000000</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">11</td>
<td align="right">57</td>
<td align="right">22</td>
<td align="right">40</td>
<td align="right">188</td>
<td align="right">57</td>
<td align="right">22</td>
<td align="right">40</td>
<td align="right">0.7017544</td>
<td align="right">1.250000</td>
<td align="right">1.139033</td>
<td align="right">0.3859649</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">12</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">13</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">16</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">1.7142857</td>
<td align="right">1.000000</td>
<td align="right">1.129150</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">14</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">1.000000</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">1</td>
<td align="right">457</td>
<td align="right">158</td>
<td align="right">348</td>
<td align="right">1480</td>
<td align="right">457</td>
<td align="right">158</td>
<td align="right">348</td>
<td align="right">0.7614880</td>
<td align="right">4.046512</td>
<td align="right">1.458331</td>
<td align="right">0.3457330</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">20</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">1.7777778</td>
<td align="right">1.333333</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2.6666667</td>
<td align="right">1.000000</td>
<td align="right">1.261859</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="right">4</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">24</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">1.6000000</td>
<td align="right">1.142857</td>
<td align="right">1.204120</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<ul>
<li><p>McGarigal, K., SA Cushman, and E Ene. 2012. FRAGSTATS v4: Spatial
Pattern Analysis Program for Categorical and Continuous Maps. Computer
software program produced by the authors at the University of
Massachusetts, Amherst. Available at the following website: <a href="https://www.umass.edu/landeco/" class="external-link uri">https://www.umass.edu/landeco/</a></p></li>
<li><p>Jeremy VanDerWal, Lorena Falconi, Stephanie Januchowski, Luke
Shoo and Collin Storlie (2014). SDMTools: Species Distribution Modelling
Tools: Tools for processing data associated with species distribution
modelling exercises. R package version 1.1-221. <a href="https://CRAN.R-project.org/package=SDMTools" class="external-link uri">https://CRAN.R-project.org/package=SDMTools</a></p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Maximilian H.K. Hesselbarth, Marco Sciaini, Jakub Nowosad, Sebastian Hanss.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
