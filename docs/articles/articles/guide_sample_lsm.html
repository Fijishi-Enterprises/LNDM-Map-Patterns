<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use Case 1: Sampling around points of interest • landscapemetrics | Landscape Metrics for Categorical Map Patterns</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Use Case 1: Sampling around points of interest">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">landscapemetrics | Landscape Metrics for Categorical Map Patterns</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../articles/getstarted.html">
    <span class="fa fa fa fa-magic"></span>
     
    Get Started
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/general-background.html">
        <span class="fa fa-book"></span>
         
        General Background
      </a>
    </li>
    <li>
      <a href="../../articles/articles/comparing_fragstats_landscapemetrics.html">
        <span class="fa fa-edit"></span>
         
        Differences FRAGSTATS|landscapemetrics
      </a>
    </li>
    <li>
      <a href="../../articles/articles/utility.html">
        <span class="fa fa-comment"></span>
         
        Utility functions
      </a>
    </li>
    <li>
      <a href="../../articles/articles/new_metrics.html">
        <span class="fa fa-sticky-note"></span>
         
        New Metrics outside FRAGSTATS
      </a>
    </li>
    <li>
      <a href="../../articles/articles/guide_sample_lsm.html">
        <span class="fa fa-calculator"></span>
         
        Use Case 1: Sampling around points of interest
      </a>
    </li>
    <li>
      <a href="../../articles/articles/publication_record.html">
        <span class="fa fa-file-text-o"></span>
         
        Publication Record
      </a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../../reference/index.html">
    <span class="fa fa-gears"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/r-spatialecology/landscapemetrics">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Use Case 1: Sampling around points of interest</h1>
            
            <h4 class="date">2018-10-11</h4>
      
      
      <div class="hidden name"><code>guide_sample_lsm.Rmd</code></div>

    </div>

    
    
<div id="use-case" class="section level2">
<h2 class="hasAnchor">
<a href="#use-case" class="anchor"></a>Use case</h2>
<p>Ecologists are often interested what the effect of a certain configuration and/or composition of a landscape has on ecological processes, i.e. such as species abundance. To further complicate this, we often ask at what scale around our sampling points (where we measured the species abundance) does this have an influence? Does landscape configuration only matter in the surrounding next 500 meters or 2000 meter?</p>
<p>One way of inferring this influence is to subsequently buffer around our sampling points and check for this. A visual guide for this procedure could for example look like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(NLMR)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(purrr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(rcartocolor)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">library</span>(classInt)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">landscape &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_fbm">nlm_fbm</a></span>(<span class="dv">50</span>, <span class="dv">100</span>, <span class="dt">fract_dim =</span> <span class="fl">1.2</span>) </a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">y &lt;-<span class="st"> </span>landscape <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="st">  </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/magrittr/topics/aliases">subtract</a></span>(., <span class="dv">10</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/coerce-methods">as</a></span>(<span class="st">'SpatialPolygons'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="st">  </span>sp<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/sp/topics/spsample">spsample</a></span>(<span class="dt">n =</span> <span class="dv">25</span>, <span class="dt">type =</span> <span class="st">"random"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_as_sfc">st_as_sfc</a></span>()</a>
<a class="sourceLine" id="cb1-16" data-line-number="16"></a>
<a class="sourceLine" id="cb1-17" data-line-number="17">breaks &lt;-<span class="st"> </span>landscape <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="st">  </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">getValues</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="st">  </span><span class="kw">na.omit</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="st">  </span>classInt<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/classInt/topics/classIntervals">classIntervals</a></span>(<span class="dt">n=</span><span class="dv">5</span>, <span class="dt">style=</span><span class="st">"jenks"</span>)</a>
<a class="sourceLine" id="cb1-21" data-line-number="21"></a>
<a class="sourceLine" id="cb1-22" data-line-number="22">landscape &lt;-<span class="st">  </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/cut">cut</a></span>(landscape, <span class="dt">breaks=</span>breaks<span class="op">$</span>brks, <span class="dt">include.lowest=</span>T)</a>
<a class="sourceLine" id="cb1-23" data-line-number="23">landscape &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/as.data.frame">as.data.frame</a></span>(landscape, <span class="dt">xy =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-24" data-line-number="24"></a>
<a class="sourceLine" id="cb1-25" data-line-number="25">y_buffered &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(<span class="kw">seq_len</span>(<span class="dv">5</span>), <span class="cf">function</span>(buffer_width){</a>
<a class="sourceLine" id="cb1-26" data-line-number="26">  <span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/sf">st_sf</a></span>(<span class="dt">bufferwidth =</span> <span class="kw">rep</span>(buffer_width, <span class="kw">length</span>(y)), <span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/geos_unary">st_buffer</a></span>(y, buffer_width))</a>
<a class="sourceLine" id="cb1-27" data-line-number="27">}) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do.call</span>(rbind, .)</a>
<a class="sourceLine" id="cb1-28" data-line-number="28"></a>
<a class="sourceLine" id="cb1-29" data-line-number="29">a1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(y_buffered) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="st">  </span><span class="kw">geom_raster</span>(<span class="dt">data=</span> landscape, </a>
<a class="sourceLine" id="cb1-31" data-line-number="31">              <span class="kw">aes</span>(x,y,<span class="dt">fill =</span> layer)) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-32" data-line-number="32"><span class="st">  </span><span class="kw">coord_equal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb1-33" data-line-number="33"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> y_buffered,</a>
<a class="sourceLine" id="cb1-34" data-line-number="34">          <span class="dt">inherit.aes =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-35" data-line-number="35">          <span class="dt">alpha =</span> <span class="fl">0.01</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-36" data-line-number="36"><span class="st">  </span>rcartocolor<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rcartocolor/topics/carto_scale">scale_fill_carto_c</a></span>(<span class="dt">palette =</span> <span class="st">"TealRose"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37"><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb1-38" data-line-number="38"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">'transparent'</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-39" data-line-number="39"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/gganimate/topics/transition_states">transition_states</a></span>(bufferwidth, <span class="dt">transition_length =</span> <span class="dv">1</span>, <span class="dt">state_length =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-40" data-line-number="40"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/gganimate/topics/shadow_mark">shadow_mark</a></span>(<span class="dt">past =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-41" data-line-number="41"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) </a>
<a class="sourceLine" id="cb1-42" data-line-number="42">  </a>
<a class="sourceLine" id="cb1-43" data-line-number="43"></a>
<a class="sourceLine" id="cb1-44" data-line-number="44"><span class="kw"><a href="http://www.rdocumentation.org/packages/gganimate/topics/animate">animate</a></span>(a1, <span class="dt">width =</span> <span class="dv">500</span>, <span class="dt">height =</span> <span class="dv">1000</span>, <span class="dt">duration =</span> <span class="dv">6</span>)</a></code></pre></div>
<p><img src="guide_sample_lsm_files/figure-html/unnamed-chunk-1-1.gif"><!-- --></p>
<p>[to be continued]</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#use-case">Use case</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Maximillian H.K. Hesselbarth, Marco Sciaini, Jakub Nowosad.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
